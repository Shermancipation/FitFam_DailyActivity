<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="js/script.js"></script>
    <title>FitFam Daily Activity</title>
  </head>
  <body>
    <h1><%= response.runner.name %>'s <%= response.event %> Goals</h1>
    <% if(response.goals.length > 0) { %>
        
        <% for(var idx in response.goals) { %>
            <table>
                <tr>
                    <td> <%= response.goals[idx].type %> </td>
                    <% if(response.goals[idx].type == "5k") { %>
                        <td> 3.1 miles </td>
                    <% } %>
                    <% if(response.goals[idx].type == "10k") { %>
                        <td> 6.2 miles </td>
                    <% } %>
                    <% if(response.goals[idx].type == "halfMarathon") { %>
                        <td> 13.1 miles </td>
                    <% } %>
                    <% if(response.goals[idx].type == "custom") { %>
                        <td> <%= response.goals[idx].custom %> miles </td>
                    <% } %>
                    <td> <%= response.goals[idx].comment %></td>
                </tr>
            </table>
            <button id="addActivity">Add an activity for this goal!</button>
            <div id="addActivityDiv" hidden>
                <form action="/newactivity" method="post">
                    <br>Date:
                    <input type="date" name="date"></br>
                    <br>Distance (miles):
                    <input type="number" name="distance"></br>
                    <br>Comment:
                    <textarea rows="4" cols="50" name="comment"></textarea><br>
                    <input type="hidden" name="goalIdx" value=<%= idx %>>
                    <br><input type="submit" value="Submit"><br>
                </form>
            </div>
        <% } %>
    <% } %>
    <h1>Empower yourself to meet your personal goals.</h1>
    <h2>Get started now!</h2>
    <form action="/newgoal" method="post">
        <br>Goal Type:
        <select id="goalSelect" name="type">
          <option value="5k">5k</option>
          <option value="10k">10k</option>
          <option value="halfMarathon">Half Marathon</option>
          <option value="custom">Custom</option>
        </select><br>
        <div id="customGoal" hidden><br>Custom Amount (mi):
            <input type="number" name="custom"></br></div>
        <br>Comment:
        <textarea rows="4" cols="50" name="comment"></textarea><br>
        <br><input type="submit" value="Submit"><br>
      </form>
  </body>
</html>